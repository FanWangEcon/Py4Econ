<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Functions | Data Structures and Cloud Services with Python</title>
  <meta name="description" content="Numpy documentation examples." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Functions | Data Structures and Cloud Services with Python" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Numpy documentation examples." />
  <meta name="github-repo" content="fanwangecon/R4Econ" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Functions | Data Structures and Cloud Services with Python" />
  
  <meta name="twitter:description" content="Numpy documentation examples." />
  

<meta name="author" content="Fan Wang" />


<meta name="date" content="2020-12-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pandas.html"/>
<link rel="next" href="statistics.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-11"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-92953468-11');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Structures and Cloud Services with Python</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>1</b> Data Structures</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-structures.html"><a href="data-structures.html#numbers-strings-lists-and-tuples"><i class="fa fa-check"></i><b>1.1</b> Numbers, Strings, Lists and Tuples</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-structures.html"><a href="data-structures.html#numeric-basics"><i class="fa fa-check"></i><b>1.1.1</b> Numeric Basics</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-structures.html"><a href="data-structures.html#tuple"><i class="fa fa-check"></i><b>1.1.2</b> Tuple</a></li>
<li class="chapter" data-level="1.1.3" data-path="data-structures.html"><a href="data-structures.html#list"><i class="fa fa-check"></i><b>1.1.3</b> List</a></li>
<li class="chapter" data-level="1.1.4" data-path="data-structures.html"><a href="data-structures.html#strings"><i class="fa fa-check"></i><b>1.1.4</b> Strings</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-structures.html"><a href="data-structures.html#dictionary"><i class="fa fa-check"></i><b>1.2</b> Dictionary</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-structures.html"><a href="data-structures.html#dictionary-1"><i class="fa fa-check"></i><b>1.2.1</b> Dictionary</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-structures.html"><a href="data-structures.html#numpy-arrays"><i class="fa fa-check"></i><b>1.3</b> Numpy Arrays</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="data-structures.html"><a href="data-structures.html#generate-matrix-from-arrays"><i class="fa fa-check"></i><b>1.3.1</b> Generate Matrix from Arrays</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pandas.html"><a href="pandas.html"><i class="fa fa-check"></i><b>2</b> Pandas</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pandas.html"><a href="pandas.html#panda-basics"><i class="fa fa-check"></i><b>2.1</b> Panda Basics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="pandas.html"><a href="pandas.html#generate-matrix-from-arrays-1"><i class="fa fa-check"></i><b>2.1.1</b> Generate Matrix from Arrays</a></li>
<li class="chapter" data-level="2.1.2" data-path="pandas.html"><a href="pandas.html#select-rows-and-columns-from-dataframe"><i class="fa fa-check"></i><b>2.1.2</b> Select Rows and Columns from Dataframe</a></li>
<li class="chapter" data-level="2.1.3" data-path="pandas.html"><a href="pandas.html#pandas-importing-and-exporting"><i class="fa fa-check"></i><b>2.1.3</b> Pandas Importing and Exporting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#function-arguments-and-returns"><i class="fa fa-check"></i><b>3.1</b> Function Arguments and Returns</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="functions.html"><a href="functions.html#data-types"><i class="fa fa-check"></i><b>3.1.1</b> Data Types</a></li>
<li class="chapter" data-level="3.1.2" data-path="functions.html"><a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>3.1.2</b> Function Arguments</a></li>
<li class="chapter" data-level="3.1.3" data-path="functions.html"><a href="functions.html#python-command-line-arguments-parsing"><i class="fa fa-check"></i><b>3.1.3</b> Python Command-line Arguments Parsing</a></li>
<li class="chapter" data-level="3.1.4" data-path="functions.html"><a href="functions.html#function-returns"><i class="fa fa-check"></i><b>3.1.4</b> Function Returns</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#exceptions"><i class="fa fa-check"></i><b>3.2</b> Exceptions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="functions.html"><a href="functions.html#exception-handling"><i class="fa fa-check"></i><b>3.2.1</b> Exception Handling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistics.html"><a href="statistics.html#markov-process"><i class="fa fa-check"></i><b>4.1</b> Markov Process</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="statistics.html"><a href="statistics.html#close-value-comparison"><i class="fa fa-check"></i><b>4.1.1</b> Close Value Comparison</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html"><i class="fa fa-check"></i><b>5</b> Tables and Graphs</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#matplotlib-base-plots"><i class="fa fa-check"></i><b>5.1</b> Matplotlib Base Plots</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#line-and-scatter-plots"><i class="fa fa-check"></i><b>5.1.1</b> Line and Scatter Plots</a></li>
<li class="chapter" data-level="5.1.2" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#text-plot"><i class="fa fa-check"></i><b>5.1.2</b> Text Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="amazon-web-services.html"><a href="amazon-web-services.html"><i class="fa fa-check"></i><b>6</b> Amazon Web Services</a>
<ul>
<li class="chapter" data-level="6.1" data-path="amazon-web-services.html"><a href="amazon-web-services.html#aws-setup"><i class="fa fa-check"></i><b>6.1</b> AWS Setup</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="amazon-web-services.html"><a href="amazon-web-services.html#aws-setup-1"><i class="fa fa-check"></i><b>6.1.1</b> AWS Setup</a></li>
<li class="chapter" data-level="6.1.2" data-path="amazon-web-services.html"><a href="amazon-web-services.html#aws-boto3"><i class="fa fa-check"></i><b>6.1.2</b> AWS Boto3</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="amazon-web-services.html"><a href="amazon-web-services.html#s3"><i class="fa fa-check"></i><b>6.2</b> S3</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="amazon-web-services.html"><a href="amazon-web-services.html#s3-usages"><i class="fa fa-check"></i><b>6.2.1</b> S3 Usages</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="amazon-web-services.html"><a href="amazon-web-services.html#batch"><i class="fa fa-check"></i><b>6.3</b> Batch</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="amazon-web-services.html"><a href="amazon-web-services.html#aws-batch-run"><i class="fa fa-check"></i><b>6.3.1</b> AWS Batch Run</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="docker-container.html"><a href="docker-container.html"><i class="fa fa-check"></i><b>7</b> Docker Container</a>
<ul>
<li class="chapter" data-level="7.1" data-path="docker-container.html"><a href="docker-container.html#docker-setup"><i class="fa fa-check"></i><b>7.1</b> Docker Setup</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="docker-container.html"><a href="docker-container.html#docker-setup-1"><i class="fa fa-check"></i><b>7.1.1</b> Docker Setup</a></li>
<li class="chapter" data-level="7.1.2" data-path="docker-container.html"><a href="docker-container.html#ecr-setup"><i class="fa fa-check"></i><b>7.1.2</b> ECR Setup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="get-data.html"><a href="get-data.html"><i class="fa fa-check"></i><b>8</b> Get Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="get-data.html"><a href="get-data.html#environmental-data"><i class="fa fa-check"></i><b>8.1</b> Environmental Data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="get-data.html"><a href="get-data.html#ecmwf-era5-data"><i class="fa fa-check"></i><b>8.1.1</b> ECMWF ERA5 Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="system-and-support.html"><a href="system-and-support.html"><i class="fa fa-check"></i><b>9</b> System and Support</a>
<ul>
<li class="chapter" data-level="9.1" data-path="system-and-support.html"><a href="system-and-support.html#command-line"><i class="fa fa-check"></i><b>9.1</b> Command Line</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="system-and-support.html"><a href="system-and-support.html#python-command-line"><i class="fa fa-check"></i><b>9.1.1</b> Python Command Line</a></li>
<li class="chapter" data-level="9.1.2" data-path="system-and-support.html"><a href="system-and-support.html#run-matlab-functions"><i class="fa fa-check"></i><b>9.1.2</b> Run Matlab Functions</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="system-and-support.html"><a href="system-and-support.html#file-in-and-out"><i class="fa fa-check"></i><b>9.2</b> File In and Out</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="system-and-support.html"><a href="system-and-support.html#check-read-write-and-convert-files"><i class="fa fa-check"></i><b>9.2.1</b> Check, Read, Write and Convert Files</a></li>
<li class="chapter" data-level="9.2.2" data-path="system-and-support.html"><a href="system-and-support.html#folder-operations"><i class="fa fa-check"></i><b>9.2.2</b> Folder Operations</a></li>
<li class="chapter" data-level="9.2.3" data-path="system-and-support.html"><a href="system-and-support.html#parse-yaml"><i class="fa fa-check"></i><b>9.2.3</b> Parse Yaml</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="system-and-support.html"><a href="system-and-support.html#install-python"><i class="fa fa-check"></i><b>9.3</b> Install Python</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="system-and-support.html"><a href="system-and-support.html#core-installations"><i class="fa fa-check"></i><b>9.3.1</b> Core Installations</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="system-and-support.html"><a href="system-and-support.html#documentation"><i class="fa fa-check"></i><b>9.4</b> Documentation</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="system-and-support.html"><a href="system-and-support.html#numpy-doc-documentation-guide"><i class="fa fa-check"></i><b>9.4.1</b> Numpy Doc Documentation Guide</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="index-and-code-links.html"><a href="index-and-code-links.html"><i class="fa fa-check"></i><b>A</b> Index and Code Links</a>
<ul>
<li class="chapter" data-level="A.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#data-structures-links"><i class="fa fa-check"></i><b>A.1</b> Data Structures links</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.1-numbers-strings-lists-and-tuplesnumbers-strings-lists-and-tuples-links"><i class="fa fa-check"></i><b>A.1.1</b> <span>Section 1.1 Numbers, Strings, Lists and Tuples</span> links</a></li>
<li class="chapter" data-level="A.1.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.2-dictionarydictionary-links"><i class="fa fa-check"></i><b>A.1.2</b> <span>Section 1.2 Dictionary</span> links</a></li>
<li class="chapter" data-level="A.1.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.3-numpy-arraysnumpy-arrays-links"><i class="fa fa-check"></i><b>A.1.3</b> <span>Section 1.3 Numpy Arrays</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#pandas-links"><i class="fa fa-check"></i><b>A.2</b> Pandas links</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.1-panda-basicspanda-basics-links"><i class="fa fa-check"></i><b>A.2.1</b> <span>Section 2.1 Panda Basics</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#functions-links"><i class="fa fa-check"></i><b>A.3</b> Functions links</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.1-function-arguments-and-returnsfunction-arguments-and-returns-links"><i class="fa fa-check"></i><b>A.3.1</b> <span>Section 3.1 Function Arguments and Returns</span> links</a></li>
<li class="chapter" data-level="A.3.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.2-exceptionsexceptions-links"><i class="fa fa-check"></i><b>A.3.2</b> <span>Section 3.2 Exceptions</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#statistics-links"><i class="fa fa-check"></i><b>A.4</b> Statistics links</a>
<ul>
<li class="chapter" data-level="A.4.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.1-markov-processmarkov-process-links"><i class="fa fa-check"></i><b>A.4.1</b> <span>Section 4.1 Markov Process</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.5" data-path="index-and-code-links.html"><a href="index-and-code-links.html#tables-and-graphs-links"><i class="fa fa-check"></i><b>A.5</b> Tables and Graphs links</a>
<ul>
<li class="chapter" data-level="A.5.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-5.1-matplotlib-base-plotsmatplotlib-base-plots-links"><i class="fa fa-check"></i><b>A.5.1</b> <span>Section 5.1 Matplotlib Base Plots</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="index-and-code-links.html"><a href="index-and-code-links.html#amazon-web-services-links"><i class="fa fa-check"></i><b>A.6</b> Amazon Web Services links</a>
<ul>
<li class="chapter" data-level="A.6.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.1-aws-setupaws-setup-links"><i class="fa fa-check"></i><b>A.6.1</b> <span>Section 6.1 AWS Setup</span> links</a></li>
<li class="chapter" data-level="A.6.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.2-s3s3-links"><i class="fa fa-check"></i><b>A.6.2</b> <span>Section 6.2 S3</span> links</a></li>
<li class="chapter" data-level="A.6.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.3-batchbatch-links"><i class="fa fa-check"></i><b>A.6.3</b> <span>Section 6.3 Batch</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.7" data-path="index-and-code-links.html"><a href="index-and-code-links.html#docker-container-links"><i class="fa fa-check"></i><b>A.7</b> Docker Container links</a>
<ul>
<li class="chapter" data-level="A.7.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-7.1-docker-setupdocker-setup-links"><i class="fa fa-check"></i><b>A.7.1</b> <span>Section 7.1 Docker Setup</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.8" data-path="index-and-code-links.html"><a href="index-and-code-links.html#get-data-links"><i class="fa fa-check"></i><b>A.8</b> Get Data links</a>
<ul>
<li class="chapter" data-level="A.8.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.1-environmental-dataenvironmental-data-links"><i class="fa fa-check"></i><b>A.8.1</b> <span>Section 8.1 Environmental Data</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.9" data-path="index-and-code-links.html"><a href="index-and-code-links.html#system-and-support-links"><i class="fa fa-check"></i><b>A.9</b> System and Support links</a>
<ul>
<li class="chapter" data-level="A.9.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.1-command-linecommand-line-links"><i class="fa fa-check"></i><b>A.9.1</b> <span>Section 9.1 Command Line</span> links</a></li>
<li class="chapter" data-level="A.9.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.2-file-in-and-outfile-in-and-out-links"><i class="fa fa-check"></i><b>A.9.2</b> <span>Section 9.2 File In and Out</span> links</a></li>
<li class="chapter" data-level="A.9.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.3-install-pythoninstall-python-links"><i class="fa fa-check"></i><b>A.9.3</b> <span>Section 9.3 Install Python</span> links</a></li>
<li class="chapter" data-level="A.9.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.4-documentationdocumentation-links"><i class="fa fa-check"></i><b>A.9.4</b> <span>Section 9.4 Documentation</span> links</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://fanwangecon.github.io/Py4Econ/bookdown/index.html" target="blank">Py4Econ Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Structures and Cloud Services with Python</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Functions</h1>

<div id="function-arguments-and-returns" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Function Arguments and Returns</h2>

<div id="data-types" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Data Types</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/Py4Econ/">Python Code Examples</a> Repository (<a href="https://fanwangecon.github.io/Py4Econ/bookdown">bookdown site</a>) or the <a href="https://pyfan.readthedocs.io/en/latest/">pyfan</a> Package (<a href="https://pyfan.readthedocs.io/en/latest/reference.html">API</a>).</p>
</blockquote>
<div id="check-parameter-type" class="section level4" number="3.1.1.1">
<h4><span class="header-section-number">3.1.1.1</span> Check Parameter Type</h4>
<p>There are parameters of a function, depending on the parameter type, execute the program differently. If integer, behave one way if string behave in another way.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb156-1"><a href="functions.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define the function</span></span>
<span id="cb156-2"><a href="functions.html#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_speckey_dict(gn_speckey<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb156-3"><a href="functions.html#cb156-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(gn_speckey, <span class="bu">str</span>):</span>
<span id="cb156-4"><a href="functions.html#cb156-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_speckey<span class="op">=</span><span class="sc">}</span><span class="ss"> is a string&#39;</span>)</span>
<span id="cb156-5"><a href="functions.html#cb156-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">isinstance</span>(gn_speckey, <span class="bu">int</span>):</span>
<span id="cb156-6"><a href="functions.html#cb156-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_speckey<span class="op">=</span><span class="sc">}</span><span class="ss"> is an integer&#39;</span>)</span>
<span id="cb156-7"><a href="functions.html#cb156-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb156-8"><a href="functions.html#cb156-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_speckey<span class="op">=</span><span class="sc">}</span><span class="ss"> was not a string or an integer&#39;</span>)</span>
<span id="cb156-9"><a href="functions.html#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with integer</span></span>
<span id="cb156-10"><a href="functions.html#cb156-10" aria-hidden="true" tabindex="-1"></a>get_speckey_dict(<span class="dv">1</span>)</span>
<span id="cb156-11"><a href="functions.html#cb156-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with string</span></span></code></pre></div>
<pre><code>## gn_speckey=1 is an integer</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb158-1"><a href="functions.html#cb158-1" aria-hidden="true" tabindex="-1"></a>get_speckey_dict(<span class="st">&#39;abc&#39;</span>)</span>
<span id="cb158-2"><a href="functions.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with a list</span></span></code></pre></div>
<pre><code>## gn_speckey=&#39;abc&#39; is a string</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb160-1"><a href="functions.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>: </span>
<span id="cb160-2"><a href="functions.html#cb160-2" aria-hidden="true" tabindex="-1"></a>    get_speckey_dict([<span class="st">&#39;abc&#39;</span>])</span>
<span id="cb160-3"><a href="functions.html#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> e: </span>
<span id="cb160-4"><a href="functions.html#cb160-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Exception</span><span class="sc">{e</span><span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## Exceptione=TypeError(&quot;gn_speckey=[&#39;abc&#39;] was not a string or an integer&quot;)</code></pre>
</div>
<div id="check-if-parameter-is-string-or-integer-in-interval" class="section level4" number="3.1.1.2">
<h4><span class="header-section-number">3.1.1.2</span> Check if Parameter is String or Integer In Interval</h4>
<p>There is a function that takes a string or an integer between certain values. Execute if either of these two conditions are satisfied, do not if neither is satisfied. Below, print if string or an int between 1 and 11.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb162-1"><a href="functions.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># condition check function</span></span>
<span id="cb162-2"><a href="functions.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_condition(gn_invoke_set):</span>
<span id="cb162-3"><a href="functions.html#cb162-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-4"><a href="functions.html#cb162-4" aria-hidden="true" tabindex="-1"></a>  bl_is_str <span class="op">=</span> <span class="bu">isinstance</span>(gn_invoke_set, <span class="bu">str</span>)</span>
<span id="cb162-5"><a href="functions.html#cb162-5" aria-hidden="true" tabindex="-1"></a>  bl_is_int <span class="op">=</span> <span class="bu">isinstance</span>(gn_invoke_set, <span class="bu">int</span>)</span>
<span id="cb162-6"><a href="functions.html#cb162-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> bl_is_int:</span>
<span id="cb162-7"><a href="functions.html#cb162-7" aria-hidden="true" tabindex="-1"></a>    bl_between <span class="op">=</span> (gn_invoke_set <span class="op">&gt;=</span> <span class="dv">1</span> <span class="kw">and</span> gn_invoke_set <span class="op">&lt;=</span> <span class="dv">11</span>)</span>
<span id="cb162-8"><a href="functions.html#cb162-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>: </span>
<span id="cb162-9"><a href="functions.html#cb162-9" aria-hidden="true" tabindex="-1"></a>    bl_between <span class="op">=</span> <span class="va">False</span></span>
<span id="cb162-10"><a href="functions.html#cb162-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb162-11"><a href="functions.html#cb162-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> bl_between <span class="kw">or</span> bl_is_str:</span>
<span id="cb162-12"><a href="functions.html#cb162-12" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_invoke_set<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb162-13"><a href="functions.html#cb162-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb162-14"><a href="functions.html#cb162-14" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_invoke_set<span class="op">=</span><span class="sc">}</span><span class="ss"> is not string or an integer between 1 and 11&#39;</span>)</span>
<span id="cb162-15"><a href="functions.html#cb162-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb162-16"><a href="functions.html#cb162-16" aria-hidden="true" tabindex="-1"></a><span class="co"># call with string or integer</span></span>
<span id="cb162-17"><a href="functions.html#cb162-17" aria-hidden="true" tabindex="-1"></a>check_condition(<span class="st">&#39;string&#39;</span>)</span></code></pre></div>
<pre><code>## gn_invoke_set=&#39;string&#39;</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb164-1"><a href="functions.html#cb164-1" aria-hidden="true" tabindex="-1"></a>check_condition(<span class="dv">11</span>)</span></code></pre></div>
<pre><code>## gn_invoke_set=11</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb166-1"><a href="functions.html#cb166-1" aria-hidden="true" tabindex="-1"></a>check_condition(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## gn_invoke_set=1</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb168-1"><a href="functions.html#cb168-1" aria-hidden="true" tabindex="-1"></a>check_condition(<span class="dv">199</span>)</span></code></pre></div>
<pre><code>## gn_invoke_set=199 is not string or an integer between 1 and 11</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb170-1"><a href="functions.html#cb170-1" aria-hidden="true" tabindex="-1"></a>check_condition([<span class="st">&#39;abc&#39;</span>])</span></code></pre></div>
<pre><code>## gn_invoke_set=[&#39;abc&#39;] is not string or an integer between 1 and 11</code></pre>

</div>
</div>
<div id="function-arguments" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Function Arguments</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/Py4Econ/">Python Code Examples</a> Repository (<a href="https://fanwangecon.github.io/Py4Econ/bookdown">bookdown site</a>) or the <a href="https://pyfan.readthedocs.io/en/latest/">pyfan</a> Package (<a href="https://pyfan.readthedocs.io/en/latest/reference.html">API</a>).</p>
</blockquote>
<div class="sourceCode" id="cb172"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb172-1"><a href="functions.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pprint</span></code></pre></div>
<div id="mutable-argument-default" class="section level4" number="3.1.2.1">
<h4><span class="header-section-number">3.1.2.1</span> Mutable Argument Default</h4>
<p>If a parameter is a list, that is mutable, or a dict. Default values for the mutable parameter should be None, with the actual default value provided inside the function.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb173-1"><a href="functions.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mutable dict as parameters</span></span>
<span id="cb173-2"><a href="functions.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ffi_tab_txt2tex(dc_fmd_sym_sig<span class="op">=</span><span class="va">None</span>, dc_tex_sig_sym<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb173-3"><a href="functions.html#cb173-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> dc_fmd_sym_sig <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb173-4"><a href="functions.html#cb173-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># defaults</span></span>
<span id="cb173-5"><a href="functions.html#cb173-5" aria-hidden="true" tabindex="-1"></a>        dc_fmd_sym_sig <span class="op">=</span> {<span class="st">&#39;***&#39;</span>: <span class="fl">1e-2</span>, <span class="st">&#39;**&#39;</span>: <span class="fl">5e-2</span>, <span class="st">&#39;*&#39;</span>: <span class="fl">1e-1</span>}</span>
<span id="cb173-6"><a href="functions.html#cb173-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> dc_tex_sig_sym <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb173-7"><a href="functions.html#cb173-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># defaults</span></span>
<span id="cb173-8"><a href="functions.html#cb173-8" aria-hidden="true" tabindex="-1"></a>        dc_tex_sig_sym <span class="op">=</span> {<span class="st">&#39;1e-3&#39;</span>: <span class="st">&#39;</span><span class="ch">\\</span><span class="st">sym{***}&#39;</span>,</span>
<span id="cb173-9"><a href="functions.html#cb173-9" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;1e-2&#39;</span>: <span class="st">&#39;</span><span class="ch">\\</span><span class="st">sym{**}&#39;</span>,</span>
<span id="cb173-10"><a href="functions.html#cb173-10" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;5e-2&#39;</span>: <span class="st">&#39;</span><span class="ch">\\</span><span class="st">sym{*}&#39;</span>,</span>
<span id="cb173-11"><a href="functions.html#cb173-11" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;1e-1&#39;</span>: <span class="st">&#39;</span><span class="ch">\\</span><span class="st">dagger&#39;</span>}</span>
<span id="cb173-12"><a href="functions.html#cb173-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-13"><a href="functions.html#cb173-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print</span></span>
<span id="cb173-14"><a href="functions.html#cb173-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dc_fmd_sym_sig<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb173-15"><a href="functions.html#cb173-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>dc_tex_sig_sym<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb173-16"><a href="functions.html#cb173-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb173-17"><a href="functions.html#cb173-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with default</span></span>
<span id="cb173-18"><a href="functions.html#cb173-18" aria-hidden="true" tabindex="-1"></a>ffi_tab_txt2tex()</span>
<span id="cb173-19"><a href="functions.html#cb173-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function update the first dict </span></span></code></pre></div>
<pre><code>## dc_fmd_sym_sig={&#39;***&#39;: 0.01, &#39;**&#39;: 0.05, &#39;*&#39;: 0.1}
## dc_tex_sig_sym={&#39;1e-3&#39;: &#39;\\sym{***}&#39;, &#39;1e-2&#39;: &#39;\\sym{**}&#39;, &#39;5e-2&#39;: &#39;\\sym{*}&#39;, &#39;1e-1&#39;: &#39;\\dagger&#39;}</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb175-1"><a href="functions.html#cb175-1" aria-hidden="true" tabindex="-1"></a>ffi_tab_txt2tex(dc_fmd_sym_sig <span class="op">=</span> {<span class="st">&#39;***&#39;</span>: <span class="fl">1e-3</span>, <span class="st">&#39;**&#39;</span>: <span class="fl">1e-2</span>, <span class="st">&#39;*&#39;</span>: <span class="fl">5e-2</span>})</span></code></pre></div>
<pre><code>## dc_fmd_sym_sig={&#39;***&#39;: 0.001, &#39;**&#39;: 0.01, &#39;*&#39;: 0.05}
## dc_tex_sig_sym={&#39;1e-3&#39;: &#39;\\sym{***}&#39;, &#39;1e-2&#39;: &#39;\\sym{**}&#39;, &#39;5e-2&#39;: &#39;\\sym{*}&#39;, &#39;1e-1&#39;: &#39;\\dagger&#39;}</code></pre>
<p>see <a href="https://stackoverflow.com/questions/1132941/least-astonishment-and-the-mutable-default-argument">“Least Astonishment” and the Mutable Default Argument</a>.</p>
</div>
<div id="python-dictionary-as-argument-via-kwargs" class="section level4" number="3.1.2.2">
<h4><span class="header-section-number">3.1.2.2</span> Python Dictionary As Argument via kwargs</h4>
<p>There is a python function that outputs a dictionary with key and value pairs that specify key aspects of how a model should be solved. For example, one of the parameters could specify the <em>vcpu</em> requirement. This <em>vcpu</em> requirement might change, and so it should be easy to update this key with alternative values.</p>
<p>These are accomplished in the following manner. Define the full key-value pair list, with default values for several dictionaries, with model simulation, support, and compute parameters for example. These lists could be updated with some default alternative combinations, or alternatively, it could be updated with externally provided dictionary with both updated values for existing keys, or even additional key value pairs.</p>
<p>First, we create a function that processes and outputs default parameters, it has two inputs, <em>it_default_group</em> to specify pre-fixed adjustments from defaults, and <em>kwargs</em> that allows for arbitrarily modifications and additions to parameter dictionary.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb177-1"><a href="functions.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gen_compesti_spec(it_default_group<span class="op">=</span><span class="va">None</span>, <span class="op">**</span>kwargs):</span>
<span id="cb177-2"><a href="functions.html#cb177-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># A. Define the default parameter keys and values</span></span>
<span id="cb177-3"><a href="functions.html#cb177-3" aria-hidden="true" tabindex="-1"></a>    esti_specs <span class="op">=</span> {<span class="st">&#39;esti_method&#39;</span>: <span class="st">&#39;MomentsSimuStates&#39;</span>,</span>
<span id="cb177-4"><a href="functions.html#cb177-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;momsets_type&#39;</span>: [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;20180805a&#39;</span>],</span>
<span id="cb177-5"><a href="functions.html#cb177-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;esti_param_vec_count&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb177-6"><a href="functions.html#cb177-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;esti_max_func_eval&#39;</span>: <span class="dv">10</span>,</span>
<span id="cb177-7"><a href="functions.html#cb177-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;graph_frequncy&#39;</span>: <span class="dv">20</span>}</span>
<span id="cb177-8"><a href="functions.html#cb177-8" aria-hidden="true" tabindex="-1"></a>    compute_specs <span class="op">=</span> {<span class="st">&#39;cpu&#39;</span>: <span class="bu">str</span>(<span class="dv">1024</span> <span class="op">*</span> <span class="dv">1</span>),</span>
<span id="cb177-9"><a href="functions.html#cb177-9" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;memory&#39;</span>: <span class="bu">str</span>(<span class="dv">517</span>),  <span class="co"># only need about 160 mb in reality</span></span>
<span id="cb177-10"><a href="functions.html#cb177-10" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;workers&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb177-11"><a href="functions.html#cb177-11" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;aws_fargate&#39;</span>: <span class="va">False</span>}</span>
<span id="cb177-12"><a href="functions.html#cb177-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-13"><a href="functions.html#cb177-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># B. For different</span></span>
<span id="cb177-14"><a href="functions.html#cb177-14" aria-hidden="true" tabindex="-1"></a>    compesti_specs <span class="op">=</span> {<span class="op">**</span>compute_specs, <span class="op">**</span>esti_specs}</span>
<span id="cb177-15"><a href="functions.html#cb177-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-16"><a href="functions.html#cb177-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># C. Update dictionaries with parameter group values</span></span>
<span id="cb177-17"><a href="functions.html#cb177-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> it_default_group <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb177-18"><a href="functions.html#cb177-18" aria-hidden="true" tabindex="-1"></a>        compesti_specs_updates <span class="op">=</span> {<span class="st">&#39;memory&#39;</span>: <span class="bu">str</span>(<span class="dv">1024</span> <span class="op">*</span> <span class="dv">55</span>),</span>
<span id="cb177-19"><a href="functions.html#cb177-19" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">&#39;compute_param_vec_count&#39;</span>: <span class="dv">6</span>,</span>
<span id="cb177-20"><a href="functions.html#cb177-20" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">&#39;esti_param_vec_count&#39;</span>: <span class="dv">640</span>}</span>
<span id="cb177-21"><a href="functions.html#cb177-21" aria-hidden="true" tabindex="-1"></a>        compesti_specs.update(compesti_specs_updates)</span>
<span id="cb177-22"><a href="functions.html#cb177-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-23"><a href="functions.html#cb177-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># D. Update with kward, could append new</span></span>
<span id="cb177-24"><a href="functions.html#cb177-24" aria-hidden="true" tabindex="-1"></a>    compesti_specs.update(kwargs)</span>
<span id="cb177-25"><a href="functions.html#cb177-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-26"><a href="functions.html#cb177-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> compesti_specs</span></code></pre></div>
<p>Second, we test the defaults:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb178-1"><a href="functions.html#cb178-1" aria-hidden="true" tabindex="-1"></a>compesti_specs <span class="op">=</span> gen_compesti_spec()</span>
<span id="cb178-2"><a href="functions.html#cb178-2" aria-hidden="true" tabindex="-1"></a>pprint.pprint(compesti_specs, width<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## {&#39;aws_fargate&#39;: False,
##  &#39;cpu&#39;: &#39;1024&#39;,
##  &#39;esti_max_func_eval&#39;: 10,
##  &#39;esti_method&#39;: &#39;MomentsSimuStates&#39;,
##  &#39;esti_param_vec_count&#39;: 1,
##  &#39;graph_frequncy&#39;: 20,
##  &#39;memory&#39;: &#39;517&#39;,
##  &#39;momsets_type&#39;: [&#39;a&#39;,
##                   &#39;20180805a&#39;],
##  &#39;workers&#39;: 1}</code></pre>
<p>Third, we test using default group 1, pre-fixed changes to defaults:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb180-1"><a href="functions.html#cb180-1" aria-hidden="true" tabindex="-1"></a>compesti_specs <span class="op">=</span> gen_compesti_spec(it_default_group<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb180-2"><a href="functions.html#cb180-2" aria-hidden="true" tabindex="-1"></a>pprint.pprint(compesti_specs, width<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## {&#39;aws_fargate&#39;: False,
##  &#39;compute_param_vec_count&#39;: 6,
##  &#39;cpu&#39;: &#39;1024&#39;,
##  &#39;esti_max_func_eval&#39;: 10,
##  &#39;esti_method&#39;: &#39;MomentsSimuStates&#39;,
##  &#39;esti_param_vec_count&#39;: 640,
##  &#39;graph_frequncy&#39;: 20,
##  &#39;memory&#39;: &#39;56320&#39;,
##  &#39;momsets_type&#39;: [&#39;a&#39;,
##                   &#39;20180805a&#39;],
##  &#39;workers&#39;: 1}</code></pre>
<p>Fourth, we use kwargs to feed in arbitrary dictionary to update and append to existing parameter dictionary:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb182-1"><a href="functions.html#cb182-1" aria-hidden="true" tabindex="-1"></a>compesti_specs_updates <span class="op">=</span> {<span class="st">&#39;esti_method&#39;</span>: <span class="st">&#39;MomentsSimuStateszzz&#39;</span>,</span>
<span id="cb182-2"><a href="functions.html#cb182-2" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;moments_type&#39;</span>: [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;20180805azzz&#39;</span>],</span>
<span id="cb182-3"><a href="functions.html#cb182-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;momsets_type&#39;</span>: [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;20180805azzz&#39;</span>],</span>
<span id="cb182-4"><a href="functions.html#cb182-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;momsets_type_uuu&#39;</span>: [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;20180805azzz&#39;</span>]}</span>
<span id="cb182-5"><a href="functions.html#cb182-5" aria-hidden="true" tabindex="-1"></a>compesti_specs <span class="op">=</span> gen_compesti_spec(it_default_group<span class="op">=</span><span class="va">None</span>, <span class="op">**</span>compesti_specs_updates)</span>
<span id="cb182-6"><a href="functions.html#cb182-6" aria-hidden="true" tabindex="-1"></a>pprint.pprint(compesti_specs, width<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## {&#39;aws_fargate&#39;: False,
##  &#39;cpu&#39;: &#39;1024&#39;,
##  &#39;esti_max_func_eval&#39;: 10,
##  &#39;esti_method&#39;: &#39;MomentsSimuStateszzz&#39;,
##  &#39;esti_param_vec_count&#39;: 1,
##  &#39;graph_frequncy&#39;: 20,
##  &#39;memory&#39;: &#39;517&#39;,
##  &#39;moments_type&#39;: [&#39;a&#39;,
##                   &#39;20180805azzz&#39;],
##  &#39;momsets_type&#39;: [&#39;a&#39;,
##                   &#39;20180805azzz&#39;],
##  &#39;momsets_type_uuu&#39;: [&#39;a&#39;,
##                       &#39;20180805azzz&#39;],
##  &#39;workers&#39;: 1}</code></pre>
</div>
<div id="named-argument-list-and-dictionary" class="section level4" number="3.1.2.3">
<h4><span class="header-section-number">3.1.2.3</span> Named Argument List and Dictionary</h4>
<p>Define a function with named and unnamed arguments:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb184-1"><a href="functions.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gen_compesti_spec_named(it_default_group, esti_method, memory<span class="op">=</span><span class="dv">123</span>, graph_frequncy<span class="op">=</span><span class="dv">10</span>):</span>
<span id="cb184-2"><a href="functions.html#cb184-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># A. Define the default parameter keys and values</span></span>
<span id="cb184-3"><a href="functions.html#cb184-3" aria-hidden="true" tabindex="-1"></a>    esti_specs <span class="op">=</span> {<span class="st">&#39;esti_method&#39;</span>: <span class="st">&#39;MomentsSimuStates&#39;</span>,</span>
<span id="cb184-4"><a href="functions.html#cb184-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;momsets_type&#39;</span>: [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;20180805a&#39;</span>],</span>
<span id="cb184-5"><a href="functions.html#cb184-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;it_default_group&#39;</span>: it_default_group,</span>
<span id="cb184-6"><a href="functions.html#cb184-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;esti_param_vec_count&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb184-7"><a href="functions.html#cb184-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;esti_max_func_eval&#39;</span>: <span class="dv">10</span>,</span>
<span id="cb184-8"><a href="functions.html#cb184-8" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&#39;graph_frequncy&#39;</span>: graph_frequncy}</span>
<span id="cb184-9"><a href="functions.html#cb184-9" aria-hidden="true" tabindex="-1"></a>    compute_specs <span class="op">=</span> {<span class="st">&#39;cpu&#39;</span>: <span class="bu">str</span>(<span class="dv">1024</span> <span class="op">*</span> <span class="dv">1</span>),</span>
<span id="cb184-10"><a href="functions.html#cb184-10" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;memory&#39;</span>: <span class="bu">str</span>(memory),  <span class="co"># only need about 160 mb in reality</span></span>
<span id="cb184-11"><a href="functions.html#cb184-11" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;workers&#39;</span>: <span class="dv">1</span>,</span>
<span id="cb184-12"><a href="functions.html#cb184-12" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;aws_fargate&#39;</span>: <span class="va">False</span>}</span>
<span id="cb184-13"><a href="functions.html#cb184-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-14"><a href="functions.html#cb184-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># B. For different</span></span>
<span id="cb184-15"><a href="functions.html#cb184-15" aria-hidden="true" tabindex="-1"></a>    compesti_specs <span class="op">=</span> {<span class="op">**</span>compute_specs, <span class="op">**</span>esti_specs}</span>
<span id="cb184-16"><a href="functions.html#cb184-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-17"><a href="functions.html#cb184-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> compesti_specs</span></code></pre></div>
<p>Provide inputs for the first two unnamed parameters explicitly. Then provided the two named parameters via a dictionary:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb185-1"><a href="functions.html#cb185-1" aria-hidden="true" tabindex="-1"></a>dc_inputs <span class="op">=</span> {<span class="st">&#39;memory&#39;</span>:<span class="dv">12345</span>, <span class="st">&#39;graph_frequncy&#39;</span>:<span class="dv">2</span>}</span>
<span id="cb185-2"><a href="functions.html#cb185-2" aria-hidden="true" tabindex="-1"></a>compesti_specs <span class="op">=</span> gen_compesti_spec_named(<span class="va">None</span>, <span class="st">&#39;MomentsSimuStates&#39;</span>, <span class="op">**</span>dc_inputs)</span>
<span id="cb185-3"><a href="functions.html#cb185-3" aria-hidden="true" tabindex="-1"></a>pprint.pprint(compesti_specs, width<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## {&#39;aws_fargate&#39;: False,
##  &#39;cpu&#39;: &#39;1024&#39;,
##  &#39;esti_max_func_eval&#39;: 10,
##  &#39;esti_method&#39;: &#39;MomentsSimuStates&#39;,
##  &#39;esti_param_vec_count&#39;: 1,
##  &#39;graph_frequncy&#39;: 2,
##  &#39;it_default_group&#39;: None,
##  &#39;memory&#39;: &#39;12345&#39;,
##  &#39;momsets_type&#39;: [&#39;a&#39;,
##                   &#39;20180805a&#39;],
##  &#39;workers&#39;: 1}</code></pre>
<!-- #### Function Call Parameters as String  -->
<!-- There is a function, call the function, return the string name of the variable used to call the function inside the function. -->
<!-- Define the function: -->
<!-- ```{python} -->
<!-- # import package -->
<!-- import traceback -->
<!-- import pprint -->
<!-- # define function -->
<!-- def ffi_ls2dc(ls_list, st_counter_str='i', st_all_str='o', st_ls_name=None): -->
<!--     if st_ls_name is None: -->
<!--         stack = traceback.extract_stack() -->
<!--         filename, lineno, function_name, code = stack[-2] -->
<!--         print('abc') -->
<!--         print(code) -->
<!--         # if "ls_list=" in code: -->
<!--         #     # function called with three parameters all named, looks like: -->
<!--         #     #   "dc_ls_combo_type = pyfan_amto_lsdcconvert.ff_ls2dc(ls_list=ls_combo_type," -->
<!--         #     st_ls_name = code.split("ls_list=")[1] -->
<!--         # else: -->
<!--         #     # function was not called with named parameter, looks like: -->
<!--         #     #   "dc_ls_combo_type = pyfan_amto_lsdcconvert.ff_ls2dc(ls_combo_type, 'i', 'o')" -->
<!--         #     #    "dc_ls_combo_type = pyfan_amto_lsdcconvert.ff_ls2dc(ls_combo_type)" -->
<!--         #     st_ls_name = code.split("ff_ls2dc(")[1] -->
<!--         #  -->
<!--         # # Get first input element -->
<!--         # st_ls_name = st_ls_name.split(",")[0] -->
<!--         # if "=" in st_ls_name: -->
<!--         #     raise ValueError(f'ff_ls2dc function called incorrectly, ls_list parameter must be first:{code=}') -->
<!--     return st_ls_name -->
<!-- ``` -->
<!-- Call the function with different parameter combinations: -->
<!-- ```{python} -->
<!-- ls_combo_type = [1,2,3] -->
<!-- # convert calling function without parameters: -->
<!-- ffi_ls2dc(ls_combo_type, 'i', 'o') -->
<!-- # convert calling function with later parameter names: -->
<!-- ffi_ls2dc(ls_combo_type, st_counter_str='i', st_all_str='o') -->
<!-- # convert calling function with all named parameters: -->
<!-- ffi_ls2dc(ls_list=ls_combo_type, st_counter_str='i', st_all_str='o') -->
<!-- # provide name for list -->
<!-- ffi_ls2dc(ls_list=ls_combo_type, st_counter_str='CTR', st_all_str='OF', st_ls_name='ls_other_name') -->
<!-- ``` -->

</div>
</div>
<div id="python-command-line-arguments-parsing" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Python Command-line Arguments Parsing</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/Py4Econ/">Python Code Examples</a> Repository (<a href="https://fanwangecon.github.io/Py4Econ/bookdown">bookdown site</a>) or the <a href="https://pyfan.readthedocs.io/en/latest/">pyfan</a> Package (<a href="https://pyfan.readthedocs.io/en/latest/reference.html">API</a>).</p>
</blockquote>
<div class="sourceCode" id="cb187"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb187-1"><a href="functions.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pprint</span>
<span id="cb187-2"><a href="functions.html#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> argparse</span></code></pre></div>
<div id="positional-and-optional-arguments" class="section level4" number="3.1.3.1">
<h4><span class="header-section-number">3.1.3.1</span> Positional and Optional Arguments</h4>
<p>Provide a positional and an optional argument. Position arguments are provided positions when the module is called, without prefixed by which parameter this is. Optional argument requires parameter specification.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb188-1"><a href="functions.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parser for arguments</span></span>
<span id="cb188-2"><a href="functions.html#cb188-2" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> argparse.ArgumentParser()</span>
<span id="cb188-3"><a href="functions.html#cb188-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-4"><a href="functions.html#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional argument 1st, will be stored as int</span></span>
<span id="cb188-5"><a href="functions.html#cb188-5" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;esrtype&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;positional argument 1st&#39;</span>)</span>
<span id="cb188-6"><a href="functions.html#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional argument 2nd, will be stored as string</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[], dest=&#39;esrtype&#39;, nargs=None, const=None, default=None, type=&lt;class &#39;int&#39;&gt;, choices=None, help=&#39;positional argument 1st&#39;, metavar=None)</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb190-1"><a href="functions.html#cb190-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;speckey&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;positional argument 2nd&#39;</span>)</span>
<span id="cb190-2"><a href="functions.html#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="functions.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional argument</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[], dest=&#39;speckey&#39;, nargs=None, const=None, default=None, type=&lt;class &#39;str&#39;&gt;, choices=None, help=&#39;positional argument 2nd&#39;, metavar=None)</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb192-1"><a href="functions.html#cb192-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-A&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>, default<span class="op">=</span><span class="st">&#39;opt_arg_A_default_str_val&#39;</span>)</span>
<span id="cb192-2"><a href="functions.html#cb192-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-3"><a href="functions.html#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with positional argument specified</span></span>
<span id="cb192-4"><a href="functions.html#cb192-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that one is bracketed, will be interpreted as int</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-A&#39;], dest=&#39;A&#39;, nargs=None, const=None, default=&#39;opt_arg_A_default_str_val&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb194-1"><a href="functions.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Must specify posi. arg: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>, <span class="st">&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb194-2"><a href="functions.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with two positional arguments and one optional</span></span>
<span id="cb194-3"><a href="functions.html#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that the first positional argument becomes int, second beomce str</span></span></code></pre></div>
<pre><code>## Must specify posi. arg: parser.parse_args([&#39;1&#39;, &#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;])=Namespace(A=&#39;opt_arg_A_default_str_val&#39;, esrtype=1, speckey=&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;)</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb196-1"><a href="functions.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;With opt arg: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;-A&#39;</span>, <span class="st">&#39;abc&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## With opt arg: parser.parse_args([&#39;1&#39;, &#39;2&#39;, &#39;-A&#39;, &#39;abc&#39;])=Namespace(A=&#39;abc&#39;, esrtype=1, speckey=&#39;2&#39;)</code></pre>
</div>
<div id="short-and-long-parameter-name-specifications" class="section level4" number="3.1.3.2">
<h4><span class="header-section-number">3.1.3.2</span> Short and Long Parameter Name Specifications</h4>
<p>Test below a boolean parameter that will be true or false. The default value is False. The parameter is called <em>boolparam</em> with short name <em>abc</em>. There is a variety of ways of setting the parameter to true.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb198-1"><a href="functions.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parser for arguments</span></span>
<span id="cb198-2"><a href="functions.html#cb198-2" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> argparse.ArgumentParser()</span>
<span id="cb198-3"><a href="functions.html#cb198-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-4"><a href="functions.html#cb198-4" aria-hidden="true" tabindex="-1"></a><span class="co"># short name for the first parameter is a, full name is abc, boolean parameter</span></span>
<span id="cb198-5"><a href="functions.html#cb198-5" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-abc&#39;</span>, <span class="st">&#39;--boolparam&#39;</span>, action<span class="op">=</span><span class="st">&quot;store_true&quot;</span>, default<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb198-6"><a href="functions.html#cb198-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-7"><a href="functions.html#cb198-7" aria-hidden="true" tabindex="-1"></a><span class="co"># default is false but turn on option so true</span></span></code></pre></div>
<pre><code>## _StoreTrueAction(option_strings=[&#39;-abc&#39;, &#39;--boolparam&#39;], dest=&#39;boolparam&#39;, nargs=0, const=True, default=False, type=None, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb200-1"><a href="functions.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args()<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false: parser.parse_args()=Namespace(boolparam=False)</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb202-1"><a href="functions.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false, set to true, short all: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;-abc&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false, set to true, short all: parser.parse_args([&#39;-abc&#39;])=Namespace(boolparam=True)</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb204-1"><a href="functions.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false, set to true, short part ab for abc: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;-ab&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false, set to true, short part ab for abc: parser.parse_args([&#39;-ab&#39;])=Namespace(boolparam=True)</code></pre>
<div class="sourceCode" id="cb206"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb206-1"><a href="functions.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false, set to true, short part a for abc: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;-a&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false, set to true, short part a for abc: parser.parse_args([&#39;-a&#39;])=Namespace(boolparam=True)</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb208-1"><a href="functions.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false, set to true, full param: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;--boolparam&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false, set to true, full param: parser.parse_args([&#39;--boolparam&#39;])=Namespace(boolparam=True)</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb210-1"><a href="functions.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false, set to true, full param: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;--boolparam&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false, set to true, full param: parser.parse_args([&#39;--boolparam&#39;])=Namespace(boolparam=True)</code></pre>
</div>
<div id="a-list-of-allowed-values" class="section level4" number="3.1.3.3">
<h4><span class="header-section-number">3.1.3.3</span> A List of Allowed Values</h4>
<p>There is a parameter, only some specific values are allowed. Also provide help for each allowed option. Note added <em>argparse.RawTextHelpFormatter</em> to parse the next lines in help.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb212-1"><a href="functions.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parse</span></span>
<span id="cb212-2"><a href="functions.html#cb212-2" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> argparse.ArgumentParser(description<span class="op">=</span><span class="st">&#39;Run ESR cmd&#39;</span>, formatter_class<span class="op">=</span>argparse.RawTextHelpFormatter)</span>
<span id="cb212-3"><a href="functions.html#cb212-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-4"><a href="functions.html#cb212-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A required positional argument parameter tht is int and can take eight possible values</span></span>
<span id="cb212-5"><a href="functions.html#cb212-5" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;esrtype&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>,</span>
<span id="cb212-6"><a href="functions.html#cb212-6" aria-hidden="true" tabindex="-1"></a>                    choices<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb212-7"><a href="functions.html#cb212-7" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">help</span><span class="op">=</span><span class="st">&#39;1. Simulate at N sets of parameter combinations</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-8"><a href="functions.html#cb212-8" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;2. Polynomial approximation surface based on (1) &#39;</span></span>
<span id="cb212-9"><a href="functions.html#cb212-9" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;for each outcome of interest, find best</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-10"><a href="functions.html#cb212-10" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;3. Estimation at N sets of starting points with (2) as objective function</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-11"><a href="functions.html#cb212-11" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;4. Gather results frorm (3), find M best.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-12"><a href="functions.html#cb212-12" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;5. Simulate (estimate once) at the top M best results from (4) actual model, &#39;</span></span>
<span id="cb212-13"><a href="functions.html#cb212-13" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;compare objective to approximated from (3)</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-14"><a href="functions.html#cb212-14" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;6. Gather results from (5), re-rank best of the M best from (4)</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-15"><a href="functions.html#cb212-15" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;7. Estimate at the top M best results from (4) actual model, &#39;</span></span>
<span id="cb212-16"><a href="functions.html#cb212-16" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;(4) M best are M best seeds</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb212-17"><a href="functions.html#cb212-17" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&#39;8. Gather results from (7), re-rank best of the final results from the M best seeds&#39;</span>)</span>
<span id="cb212-18"><a href="functions.html#cb212-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print defaults</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[], dest=&#39;esrtype&#39;, nargs=None, const=None, default=None, type=&lt;class &#39;int&#39;&gt;, choices=[1, 2, 3, 4, 5, 6, 7, 8], help=&#39;1. Simulate at N sets of parameter combinations\n2. Polynomial approximation surface based on (1) for each outcome of interest, find best\n3. Estimation at N sets of starting points with (2) as objective function\n4. Gather results frorm (3), find M best.\n5. Simulate (estimate once) at the top M best results from (4) actual model, compare objective to approximated from (3)\n6. Gather results from (5), re-rank best of the M best from (4)\n7. Estimate at the top M best results from (4) actual model, (4) M best are M best seeds\n8. Gather results from (7), re-rank best of the final results from the M best seeds&#39;, metavar=None)</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb214-1"><a href="functions.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;provide 1 for the value of the positional argument: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## provide 1 for the value of the positional argument: parser.parse_args([&#39;1&#39;])=Namespace(esrtype=1)</code></pre>
</div>
<div id="boolean-integer-string-and-list-parameters" class="section level4" number="3.1.3.4">
<h4><span class="header-section-number">3.1.3.4</span> Boolean, Integer, String and list Parameters</h4>
<p>How to handle parameters of different types, boolean, integer, string and list. For these four types, the same way to specify short and long parameter names. How to set the parameter types, and how to set default values for each type.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb216-1"><a href="functions.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parser for arguments</span></span>
<span id="cb216-2"><a href="functions.html#cb216-2" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> argparse.ArgumentParser()</span>
<span id="cb216-3"><a href="functions.html#cb216-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-4"><a href="functions.html#cb216-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Single letter string parameters</span></span>
<span id="cb216-5"><a href="functions.html#cb216-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Note dest name over-rides full name</span></span>
<span id="cb216-6"><a href="functions.html#cb216-6" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-cta&#39;</span>, <span class="st">&#39;--cttaaaaa&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_a&quot;</span>, default<span class="op">=</span><span class="st">&#39;e&#39;</span>,</span>
<span id="cb216-7"><a href="functions.html#cb216-7" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span>
<span id="cb216-8"><a href="functions.html#cb216-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple letters and integers</span></span>
<span id="cb216-9"><a href="functions.html#cb216-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Note without dest full name is dest</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-cta&#39;, &#39;--cttaaaaa&#39;], dest=&#39;combo_type_a&#39;, nargs=None, const=None, default=&#39;e&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb218-1"><a href="functions.html#cb218-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-ctb&#39;</span>, <span class="st">&#39;--combo_type_b&#39;</span>, default<span class="op">=</span><span class="st">&#39;20201025&#39;</span>,</span>
<span id="cb218-2"><a href="functions.html#cb218-2" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span>
<span id="cb218-3"><a href="functions.html#cb218-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple letters and integers</span></span>
<span id="cb218-4"><a href="functions.html#cb218-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note without dest and full name short name is parameter name</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-ctb&#39;, &#39;--combo_type_b&#39;], dest=&#39;combo_type_b&#39;, nargs=None, const=None, default=&#39;20201025&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb220-1"><a href="functions.html#cb220-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-ctc&#39;</span>, default<span class="op">=</span>[<span class="st">&#39;list_tKap_mlt_ce1a2&#39;</span>],</span>
<span id="cb220-2"><a href="functions.html#cb220-2" aria-hidden="true" tabindex="-1"></a>                    nargs<span class="op">=</span><span class="st">&#39;+&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span>
<span id="cb220-3"><a href="functions.html#cb220-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-4"><a href="functions.html#cb220-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print defaults</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-ctc&#39;], dest=&#39;ctc&#39;, nargs=&#39;+&#39;, const=None, default=[&#39;list_tKap_mlt_ce1a2&#39;], type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb222-1"><a href="functions.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args()<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb222-2"><a href="functions.html#cb222-2" aria-hidden="true" tabindex="-1"></a><span class="co"># change parameters</span></span></code></pre></div>
<pre><code>## default false: parser.parse_args()=Namespace(combo_type_a=&#39;e&#39;, combo_type_b=&#39;20201025&#39;, ctc=[&#39;list_tKap_mlt_ce1a2&#39;])</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb224-1"><a href="functions.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;-ctb&#39;</span>, <span class="st">&#39;20201111&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false: parser.parse_args([&#39;-ctb&#39;, &#39;20201111&#39;])=Namespace(combo_type_a=&#39;e&#39;, combo_type_b=&#39;20201111&#39;, ctc=[&#39;list_tKap_mlt_ce1a2&#39;])</code></pre>
<p>see <a href="https://pymotw.com/2/argparse/#variable-argument-lists">variable-argument-lists</a>.</p>
</div>
<div id="parse-multiple-parameter-types" class="section level4" number="3.1.3.5">
<h4><span class="header-section-number">3.1.3.5</span> Parse multiple parameter types</h4>
<p>Provide several types of parameters to a function, so that the function can be called easily container call to execute estimation. The types of parameters includes:</p>
<ol style="list-style-type: decimal">
<li>A list including parameter information</li>
<li>A string including estimation/computational controls</li>
<li>Additional parameters</li>
</ol>
<div class="sourceCode" id="cb226"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb226-1"><a href="functions.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parser for arguments</span></span>
<span id="cb226-2"><a href="functions.html#cb226-2" aria-hidden="true" tabindex="-1"></a>parser <span class="op">=</span> argparse.ArgumentParser()</span>
<span id="cb226-3"><a href="functions.html#cb226-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-4"><a href="functions.html#cb226-4" aria-hidden="true" tabindex="-1"></a><span class="co"># First (and only) positional argument for esrtype:</span></span>
<span id="cb226-5"><a href="functions.html#cb226-5" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;esrtype&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;positional argument&#39;</span>)</span>
<span id="cb226-6"><a href="functions.html#cb226-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-7"><a href="functions.html#cb226-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional argument</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[], dest=&#39;esrtype&#39;, nargs=None, const=None, default=None, type=&lt;class &#39;int&#39;&gt;, choices=None, help=&#39;positional argument&#39;, metavar=None)</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb228-1"><a href="functions.html#cb228-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-s&#39;</span>, dest<span class="op">=</span><span class="st">&#39;speckey&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>,</span>
<span id="cb228-2"><a href="functions.html#cb228-2" aria-hidden="true" tabindex="-1"></a>                    default<span class="op">=</span><span class="st">&#39;ng_s_t=esti_tinytst_thin_1=3=3&#39;</span>,</span>
<span id="cb228-3"><a href="functions.html#cb228-3" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">help</span><span class="op">=</span><span class="st">&quot;compute and esti keys and omments&quot;</span>)</span>
<span id="cb228-4"><a href="functions.html#cb228-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-5"><a href="functions.html#cb228-5" aria-hidden="true" tabindex="-1"></a><span class="co"># abc and e of comb_type</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-s&#39;], dest=&#39;speckey&#39;, nargs=None, const=None, default=&#39;ng_s_t=esti_tinytst_thin_1=3=3&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=&#39;compute and esti keys and omments&#39;, metavar=None)</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb230-1"><a href="functions.html#cb230-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-cta&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_a&quot;</span>, default<span class="op">=</span><span class="st">&#39;e&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-cta&#39;], dest=&#39;combo_type_a&#39;, nargs=None, const=None, default=&#39;e&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb232-1"><a href="functions.html#cb232-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-ctb&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_b&quot;</span>, default<span class="op">=</span><span class="st">&#39;20201025&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-ctb&#39;], dest=&#39;combo_type_b&#39;, nargs=None, const=None, default=&#39;20201025&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb234-1"><a href="functions.html#cb234-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-ctc&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_c&quot;</span>, default<span class="op">=</span>[<span class="st">&#39;list_tKap_mlt_ce1a2&#39;</span>], nargs<span class="op">=</span><span class="st">&#39;+&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-ctc&#39;], dest=&#39;combo_type_c&#39;, nargs=&#39;+&#39;, const=None, default=[&#39;list_tKap_mlt_ce1a2&#39;], type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb236-1"><a href="functions.html#cb236-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-cte1&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_e1&quot;</span>, default<span class="op">=</span><span class="va">None</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-cte1&#39;], dest=&#39;combo_type_e1&#39;, nargs=None, const=None, default=None, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb238-1"><a href="functions.html#cb238-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-cte2&#39;</span>, dest<span class="op">=</span><span class="st">&quot;combo_type_e2&quot;</span>, default<span class="op">=</span><span class="st">&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>)</span>
<span id="cb238-2"><a href="functions.html#cb238-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-3"><a href="functions.html#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="co"># other parameters</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-cte2&#39;], dest=&#39;combo_type_e2&#39;, nargs=None, const=None, default=&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;, type=&lt;class &#39;str&#39;&gt;, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb240-1"><a href="functions.html#cb240-1" aria-hidden="true" tabindex="-1"></a>parser.add_argument(<span class="st">&#39;-f&#39;</span>, dest<span class="op">=</span><span class="st">&quot;save_directory_main&quot;</span>, default<span class="op">=</span><span class="st">&#39;esti&#39;</span>)</span>
<span id="cb240-2"><a href="functions.html#cb240-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb240-3"><a href="functions.html#cb240-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Default, must specify erstype</span></span></code></pre></div>
<pre><code>## _StoreAction(option_strings=[&#39;-f&#39;], dest=&#39;save_directory_main&#39;, nargs=None, const=None, default=&#39;esti&#39;, type=None, choices=None, help=None, metavar=None)</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb242-1"><a href="functions.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb242-2"><a href="functions.html#cb242-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Print with the nargs+ arguments</span></span>
<span id="cb242-3"><a href="functions.html#cb242-3" aria-hidden="true" tabindex="-1"></a><span class="co"># specified two elements, abc, and efg for nargs ctc, becomes a string list</span></span></code></pre></div>
<pre><code>## default false: parser.parse_args([&#39;1&#39;])=Namespace(combo_type_a=&#39;e&#39;, combo_type_b=&#39;20201025&#39;, combo_type_c=[&#39;list_tKap_mlt_ce1a2&#39;], combo_type_e1=None, combo_type_e2=&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;, esrtype=1, save_directory_main=&#39;esti&#39;, speckey=&#39;ng_s_t=esti_tinytst_thin_1=3=3&#39;)</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb244-1"><a href="functions.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>, <span class="st">&#39;-ctc&#39;</span>, <span class="st">&#39;abc&#39;</span>, <span class="st">&#39;efg&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb244-2"><a href="functions.html#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="co"># one input for ctc, still generates a list</span></span></code></pre></div>
<pre><code>## default false: parser.parse_args([&#39;1&#39;, &#39;-ctc&#39;, &#39;abc&#39;, &#39;efg&#39;])=Namespace(combo_type_a=&#39;e&#39;, combo_type_b=&#39;20201025&#39;, combo_type_c=[&#39;abc&#39;, &#39;efg&#39;], combo_type_e1=None, combo_type_e2=&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;, esrtype=1, save_directory_main=&#39;esti&#39;, speckey=&#39;ng_s_t=esti_tinytst_thin_1=3=3&#39;)</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb246-1"><a href="functions.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;default false: </span><span class="sc">{</span>parser<span class="sc">.</span>parse_args([<span class="st">&#39;1&#39;</span>, <span class="st">&#39;-ctc&#39;</span>, <span class="st">&#39;abc&#39;</span>])<span class="op">=</span><span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## default false: parser.parse_args([&#39;1&#39;, &#39;-ctc&#39;, &#39;abc&#39;])=Namespace(combo_type_a=&#39;e&#39;, combo_type_b=&#39;20201025&#39;, combo_type_c=[&#39;abc&#39;], combo_type_e1=None, combo_type_e2=&#39;mpoly_1=esti_tinytst_mpoly_13=3=3&#39;, esrtype=1, save_directory_main=&#39;esti&#39;, speckey=&#39;ng_s_t=esti_tinytst_thin_1=3=3&#39;)</code></pre>

</div>
</div>
<div id="function-returns" class="section level3" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Function Returns</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/Py4Econ/">Python Code Examples</a> Repository (<a href="https://fanwangecon.github.io/Py4Econ/bookdown">bookdown site</a>) or the <a href="https://pyfan.readthedocs.io/en/latest/">pyfan</a> Package (<a href="https://pyfan.readthedocs.io/en/latest/reference.html">API</a>).</p>
</blockquote>
<div id="function-with-multiple-optional-returns" class="section level4" number="3.1.4.1">
<h4><span class="header-section-number">3.1.4.1</span> Function with Multiple Optional Returns</h4>
<p>There is a function that is already written, that returns some string value. Without interrupting the existing function, now add an additional return for the function. There is some conditional statement that controls whether the function returns one or two value.</p>
<p>In the example below, if the path contains</p>
<p>Create a testing function:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb248-1"><a href="functions.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_val(spn_path):</span>
<span id="cb248-2"><a href="functions.html#cb248-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">&#39;G:&#39;</span> <span class="kw">in</span> spn_path:</span>
<span id="cb248-3"><a href="functions.html#cb248-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># this returns a tuple of length 2</span></span>
<span id="cb248-4"><a href="functions.html#cb248-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> spn_path, <span class="st">&#39;G:/repos&#39;</span></span>
<span id="cb248-5"><a href="functions.html#cb248-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb248-6"><a href="functions.html#cb248-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> spn_path</span></code></pre></div>
<p>Call the function with one return, in the two calls below, the first call returns a tuple</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb249-1"><a href="functions.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Return tuple</span></span>
<span id="cb249-2"><a href="functions.html#cb249-2" aria-hidden="true" tabindex="-1"></a>tp_st_return <span class="op">=</span> get_val(<span class="st">&quot;G:/Dropbox (UH-ECON)&quot;</span>)</span>
<span id="cb249-3"><a href="functions.html#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Unpack tuple return</span></span>
<span id="cb249-4"><a href="functions.html#cb249-4" aria-hidden="true" tabindex="-1"></a>st_path_a, st_path_b <span class="op">=</span> get_val(<span class="st">&quot;G:/Dropbox (UH-ECON)&quot;</span>)</span>
<span id="cb249-5"><a href="functions.html#cb249-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Single element return</span></span>
<span id="cb249-6"><a href="functions.html#cb249-6" aria-hidden="true" tabindex="-1"></a>st_return <span class="op">=</span> get_val(<span class="st">&quot;C:/Dropbox (UH-ECON)&quot;</span>)</span>
<span id="cb249-7"><a href="functions.html#cb249-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print</span></span>
<span id="cb249-8"><a href="functions.html#cb249-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>tp_st_return<span class="op">=</span><span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>st_return<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## tp_st_return=(&#39;G:/Dropbox (UH-ECON)&#39;, &#39;G:/repos&#39;) and st_return=&#39;C:/Dropbox (UH-ECON)&#39;</code></pre>
<div class="sourceCode" id="cb251"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb251-1"><a href="functions.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>st_path_a<span class="op">=</span><span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>st_path_b<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## st_path_a=&#39;G:/Dropbox (UH-ECON)&#39; and st_path_b=&#39;G:/repos&#39;</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb253-1"><a href="functions.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span><span class="bu">isinstance</span>(tp_st_return, <span class="bu">str</span>)<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## isinstance(tp_st_return, str)=False</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb255-1"><a href="functions.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span><span class="bu">isinstance</span>(tp_st_return, <span class="bu">tuple</span>)<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## isinstance(tp_st_return, tuple)=True</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb257-1"><a href="functions.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span><span class="bu">isinstance</span>(st_return, <span class="bu">str</span>)<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## isinstance(st_return, str)=True</code></pre>
<div class="sourceCode" id="cb259"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb259-1"><a href="functions.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span><span class="bu">isinstance</span>(st_return, <span class="bu">tuple</span>)<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## isinstance(st_return, tuple)=False</code></pre>

</div>
</div>
</div>
<div id="exceptions" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Exceptions</h2>

<div id="exception-handling" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Exception Handling</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/Py4Econ/">Python Code Examples</a> Repository (<a href="https://fanwangecon.github.io/Py4Econ/bookdown">bookdown site</a>) or the <a href="https://pyfan.readthedocs.io/en/latest/">pyfan</a> Package (<a href="https://pyfan.readthedocs.io/en/latest/reference.html">API</a>).</p>
</blockquote>
<div id="a-function-that-raises-an-error-with-try-statement-catching-it" class="section level4" number="3.2.1.1">
<h4><span class="header-section-number">3.2.1.1</span> A function That Raises an Error with Try Statement Catching it</h4>
<p>Below, we have a function that will raise a <em>TypeError</em> unless we provide an integer input. The function is called with integer input and then called with a string input. The string input is wrapped in a try and except call, where the exception catches the TypeError and prints it.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb261-1"><a href="functions.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define the function</span></span>
<span id="cb261-2"><a href="functions.html#cb261-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ffi_error_test(gn_speckey<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb261-3"><a href="functions.html#cb261-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(gn_speckey, <span class="bu">int</span>):</span>
<span id="cb261-4"><a href="functions.html#cb261-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_speckey<span class="op">=</span><span class="sc">}</span><span class="ss"> is an integer&#39;</span>)</span>
<span id="cb261-5"><a href="functions.html#cb261-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb261-6"><a href="functions.html#cb261-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="ss">f&#39;</span><span class="sc">{</span>gn_speckey<span class="op">=</span><span class="sc">}</span><span class="ss"> is not an integer&#39;</span>)</span>
<span id="cb261-7"><a href="functions.html#cb261-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with integer</span></span>
<span id="cb261-8"><a href="functions.html#cb261-8" aria-hidden="true" tabindex="-1"></a>error_test(<span class="dv">1</span>)</span>
<span id="cb261-9"><a href="functions.html#cb261-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Call function with string</span></span></code></pre></div>
<pre><code>## gn_speckey=1 is an integer</code></pre>
<div class="sourceCode" id="cb263"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb263-1"><a href="functions.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb263-2"><a href="functions.html#cb263-2" aria-hidden="true" tabindex="-1"></a>    ffi_error_test(<span class="st">&#39;abc&#39;</span>)</span>
<span id="cb263-3"><a href="functions.html#cb263-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> error:</span>
<span id="cb263-4"><a href="functions.html#cb263-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Caught this error: &#39;</span> <span class="op">+</span> <span class="bu">repr</span>(error))</span></code></pre></div>
<pre><code>## Caught this error: TypeError(&quot;gn_speckey=&#39;abc&#39; is not an integer&quot;)</code></pre>
</div>
<div id="catch-an-exception-noisily" class="section level4" number="3.2.1.2">
<h4><span class="header-section-number">3.2.1.2</span> Catch an Exception Noisily</h4>
<p>Rather than only catching the last element of the exception, show the full trace. Notice in the example below, the second element of the loop does not work as function input. With exception catching, the loop continued despite the second element not working. The traceback shows more details at the end with full trace of the exception from the second element of the list as input for ffi_error_test().</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb265-1"><a href="functions.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> traceback</span>
<span id="cb265-2"><a href="functions.html#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb265-3"><a href="functions.html#cb265-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-4"><a href="functions.html#cb265-4" aria-hidden="true" tabindex="-1"></a>ls_ob_inputs <span class="op">=</span> [<span class="dv">2</span>, [<span class="st">&#39;abc&#39;</span>,<span class="st">&#39;efg&#39;</span>], <span class="dv">1</span>, <span class="dv">123</span>]</span>
<span id="cb265-5"><a href="functions.html#cb265-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-6"><a href="functions.html#cb265-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ob_input <span class="kw">in</span> ls_ob_inputs:</span>
<span id="cb265-7"><a href="functions.html#cb265-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;try input </span><span class="sc">{</span>ob_input<span class="op">=</span><span class="sc">}</span><span class="ss"> with the error_test function:&#39;</span>)</span>
<span id="cb265-8"><a href="functions.html#cb265-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb265-9"><a href="functions.html#cb265-9" aria-hidden="true" tabindex="-1"></a>        ffi_error_test(ob_input)</span>
<span id="cb265-10"><a href="functions.html#cb265-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> error:</span>
<span id="cb265-11"><a href="functions.html#cb265-11" aria-hidden="true" tabindex="-1"></a>        traceback.print_exc()</span>
<span id="cb265-12"><a href="functions.html#cb265-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&#39;Caught this error: &#39;</span> <span class="op">+</span> <span class="bu">repr</span>(error))</span></code></pre></div>
<pre><code>## try input ob_input=2 with the error_test function:
## gn_speckey=2 is an integer
## try input ob_input=[&#39;abc&#39;, &#39;efg&#39;] with the error_test function:
## Caught this error: TypeError(&quot;gn_speckey=[&#39;abc&#39;, &#39;efg&#39;] is not an integer&quot;)
## try input ob_input=1 with the error_test function:
## gn_speckey=1 is an integer
## try input ob_input=123 with the error_test function:
## gn_speckey=123 is an integer
## 
## Traceback (most recent call last):
##   File &quot;&lt;string&gt;&quot;, line 4, in &lt;module&gt;
##   File &quot;&lt;string&gt;&quot;, line 5, in ffi_error_test
## TypeError: gn_speckey=[&#39;abc&#39;, &#39;efg&#39;] is not an integer</code></pre>
<p>see <a href="https://stackoverflow.com/q/52742612/8280804">How to print the stack trace of an exception object in Python?</a></p>
</div>
<div id="handle-parameters-when-conditions-not-satisfied" class="section level4" number="3.2.1.3">
<h4><span class="header-section-number">3.2.1.3</span> Handle Parameters When Conditions Not Satisfied</h4>
<p>There is a function, that can estimate or simulate, under both functionalities, there is a common string parameter, that requires specifying estimation or simulation conditions. The common string parameter should be a simple string without special separators in the case of simulation, and should be four strings concatenated together with equal sign for estimation. Generate an exception if the function is called for estimation but the string parameter does not have the required structure.</p>
<ul>
<li><a href="https://docs.python.org/3/library/exceptions.html#TypeError">Python 3 TypeError</a></li>
<li><a href="https://stackoverflow.com/a/30317038/8280804">Manually raising (throwing) an exception in Python</a></li>
</ul>
<div class="sourceCode" id="cb267"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb267-1"><a href="functions.html#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ls_st_spec_key_dict = [&#39;NG_S_D&#39;, &#39;NG_S_D=KAP_M0_NLD_M_SIMU=2=3&#39;]</span></span>
<span id="cb267-2"><a href="functions.html#cb267-2" aria-hidden="true" tabindex="-1"></a><span class="co"># st_connector = &#39;=&#39;</span></span>
<span id="cb267-3"><a href="functions.html#cb267-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ls_st_esti_simu = [&#39;esti&#39;, &#39;simu&#39;]</span></span>
<span id="cb267-4"><a href="functions.html#cb267-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for st_spec_key_dict in ls_st_spec_key_dict:</span></span>
<span id="cb267-5"><a href="functions.html#cb267-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   for st_esti_simu in ls_st_esti_simu:</span></span>
<span id="cb267-6"><a href="functions.html#cb267-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     if st_esti_simu == &#39;simu&#39;:</span></span>
<span id="cb267-7"><a href="functions.html#cb267-7" aria-hidden="true" tabindex="-1"></a><span class="co">#       if len(st_spec_key_dict.split(st_connector)) and</span></span>
<span id="cb267-8"><a href="functions.html#cb267-8" aria-hidden="true" tabindex="-1"></a><span class="co">#         print(&#39;simulate with &#39; + st_spec_key_dict)</span></span>
<span id="cb267-9"><a href="functions.html#cb267-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-10"><a href="functions.html#cb267-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> estimate <span class="kw">and</span> <span class="kw">not</span> <span class="bu">isinstance</span>(spec_key_dict, <span class="bu">str</span>):</span>
<span id="cb267-11"><a href="functions.html#cb267-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb267-12"><a href="functions.html#cb267-12" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> (estimate <span class="kw">is</span> <span class="va">False</span> <span class="kw">and</span> <span class="bu">isinstance</span>(spec_key_dict, <span class="bu">str</span>)) <span class="kw">or</span> (estimate <span class="kw">is</span> <span class="va">False</span> <span class="kw">and</span> <span class="bu">isinstance</span>(spec_key_dict, <span class="bu">dict</span>)):</span>
<span id="cb267-13"><a href="functions.html#cb267-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb267-14"><a href="functions.html#cb267-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb267-15"><a href="functions.html#cb267-15" aria-hidden="true" tabindex="-1"></a>    st_error <span class="op">=</span> <span class="st">&#39;speckey=&#39;</span> <span class="op">+</span> speckey <span class="op">+</span> <span class="st">&#39; and estimate=&#39;</span> <span class="op">+</span> <span class="bu">str</span>(estimate)</span>
<span id="cb267-16"><a href="functions.html#cb267-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(st_error)</span></code></pre></div>
</div>
<div id="proceed-despite-error" class="section level4" number="3.2.1.4">
<h4><span class="header-section-number">3.2.1.4</span> Proceed Despite Error</h4>
<p>Sometimes, code should proceed despite error, to finish a loop for example:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb268-1"><a href="functions.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="co"># estimate at each initial random points</span></span>
<span id="cb268-2"><a href="functions.html#cb268-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> it_esti_ctr <span class="kw">in</span> <span class="bu">range</span>(esti_param_vec_count):</span>
<span id="cb268-3"><a href="functions.html#cb268-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update the 3rd element of combo_type, which determines which draw index to use</span></span>
<span id="cb268-4"><a href="functions.html#cb268-4" aria-hidden="true" tabindex="-1"></a>    combo_type[<span class="dv">3</span>] <span class="op">=</span> it_esti_ctr</span>
<span id="cb268-5"><a href="functions.html#cb268-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb268-6"><a href="functions.html#cb268-6" aria-hidden="true" tabindex="-1"></a>        invoke_run_main.invoke_main(combo_type, <span class="op">**</span>dc_invoke_main_args)</span>
<span id="cb268-7"><a href="functions.html#cb268-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span>:</span>
<span id="cb268-8"><a href="functions.html#cb268-8" aria-hidden="true" tabindex="-1"></a>        logging.critical(<span class="ss">f&#39;Finished this </span><span class="sc">{</span>it_esti_ctr<span class="op">=</span><span class="sc">}</span><span class="ss"> of </span><span class="sc">{</span><span class="bu">range</span>(esti_param_vec_count)<span class="op">=</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pandas.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Data-Structures-and-Cloud-Services-with-Python.pdf", "PDF"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
